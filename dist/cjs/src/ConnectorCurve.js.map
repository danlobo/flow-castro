{"version":3,"file":"ConnectorCurve.js","sources":["../../../src/ConnectorCurve.jsx"],"sourcesContent":["export function ConnectorCurve({ src, dst, scale, tmp, onContextMenu}) {\n  if (!src || !dst) {\n    return\n  }\n\n  const x1 = {\n    x: src.x < dst.x ? 5 : - (dst.x - src.x) + 5,\n    y: src.y < dst.y ? 5 : - (dst.y - src.y) + 5,\n  }\n\n  const x2 = {\n    x: src.x < dst.x ? dst.x - src.x + 5 : 5,\n    y: src.y < dst.y ? dst.y - src.y + 5 : 5,\n  }\n\n  const b1 = {\n    x: Math.abs(x2.x - x1.x) / 2,\n    y: x1.y,\n  }\n\n  const b2 = {\n    x: Math.abs(x2.x - x1.x) / 2,\n    y: x2.y,\n  }\n\n  return (\n    <svg\n      style={{\n        // border: '1px solid red',\n        position: 'absolute',\n        transform: `translate(${Math.min(src.x, dst.x)}px, ${Math.min(src.y, dst.y)}px)`,\n        top: -5,\n        left: -5,\n        width: Math.abs(dst.x-src.x)+10,\n        height: Math.abs(dst.y-src.y)+10,\n        zIndex: tmp ? 1000 : -1,\n      }}\n    >\n      {/* <circle cx={x1.x} cy={x1.y} r={12} fill=\"green\" />\n      <circle cx={x2.x} cy={x2.y} r={12} fill=\"red\" />\n      <circle cx={b1.x} cy={b1.y} r={5} fill=\"blue\" />\n      <circle cx={b2.x} cy={b2.y} r={5} fill=\"purple\" /> */}\n      <path \n        style={{ position: 'relative', pointerEvents:'all', strokeWidth: Math.max(4, 5 * scale) }}\n        className={tmp ? 'tmp-connector' : \"connector-curve\"}\n        d={`M ${x1.x} ${x1.y} C ${b1.x} ${b1.y}, ${b2.x} ${b2.y}, ${x2.x} ${x2.y}`}\n        onContextMenu={onContextMenu}\n      />\n    </svg>\n  )\n}"],"names":["ConnectorCurve","_ref","src","dst","scale","tmp","onContextMenu","x1","x","y","x2","b1","Math","abs","b2","_jsx","style","position","transform","concat","min","top","left","width","height","zIndex","children","pointerEvents","strokeWidth","max","className","d"],"mappings":"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"}