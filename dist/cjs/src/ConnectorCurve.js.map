{"version":3,"file":"ConnectorCurve.js","sources":["../../../src/ConnectorCurve.jsx"],"sourcesContent":["import css from './ConnectorCurve.module.css'\nimport { useTheme } from './ThemeProvider'\n\nexport function ConnectorCurve({ type, src, dst, scale, tmp, onContextMenu}) {  \n  const { currentTheme } = useTheme()\n\n  if (!src || !dst) {\n    return\n  }\n\n  const x1 = {\n    x: src.x < dst.x ? 5 : - (dst.x - src.x) + 5,\n    y: src.y < dst.y ? 5 : - (dst.y - src.y) + 5,\n  }\n\n  const x2 = {\n    x: src.x < dst.x ? dst.x - src.x + 5 : 5,\n    y: src.y < dst.y ? dst.y - src.y + 5 : 5,\n  }\n\n  const b1 = {\n    x: Math.abs(x2.x - x1.x) / 2,\n    y: x1.y,\n  }\n\n  const b2 = {\n    x: Math.abs(x2.x - x1.x) / 2,\n    y: x2.y,\n  }\n\n  return (\n    <svg\n      style={{\n        transform: `translate(${Math.min(src.x, dst.x)}px, ${Math.min(src.y, dst.y)}px)`,\n        width: Math.abs(dst.x-src.x)+10,\n        height: Math.abs(dst.y-src.y)+10,\n        zIndex: tmp ? 1000 : -1,\n      }}\n      className={css.container}\n    >\n      <path \n        style={{ \n          stroke: currentTheme.connections?.[type?.type]?.color ?? '#ccc',\n          strokeWidth: Math.max(4, 5 * scale) \n        }}\n        className={[css.path, tmp ? css.pathTmp : null].filter(Boolean).join(' ')}\n        d={`M ${x1.x} ${x1.y} C ${b1.x} ${b1.y}, ${b2.x} ${b2.y}, ${x2.x} ${x2.y}`}\n        onContextMenu={onContextMenu}\n      />\n    </svg>\n  )\n}"],"names":["ConnectorCurve","_ref","_currentTheme$connect","_currentTheme$connect2","_currentTheme$connect3","type","src","dst","scale","tmp","onContextMenu","currentTheme","useTheme","x1","x","y","x2","b1","Math","abs","b2","_jsx","style","transform","concat","min","width","height","zIndex","className","css","container","children","stroke","connections","color","strokeWidth","max","path","pathTmp","filter","Boolean","join","d"],"mappings":";;;;;;AAGO,SAASA,cAAcA,CAAAC,IAAA,EAA+C;AAAA,EAAA,IAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,CAAA;EAAA,IAA9C;IAAEC,IAAI;IAAEC,GAAG;IAAEC,GAAG;IAAEC,KAAK;IAAEC,GAAG;AAAEC,IAAAA,aAAAA;AAAa,GAAC,GAAAT,IAAA,CAAA;EACzE,IAAM;AAAEU,IAAAA,YAAAA;GAAc,GAAGC,sBAAQ,EAAE,CAAA;AAEnC,EAAA,IAAI,CAACN,GAAG,IAAI,CAACC,GAAG,EAAE;AAChB,IAAA,OAAA;AACF,GAAA;AAEA,EAAA,IAAMM,EAAE,GAAG;IACTC,CAAC,EAAER,GAAG,CAACQ,CAAC,GAAGP,GAAG,CAACO,CAAC,GAAG,CAAC,GAAG,EAAGP,GAAG,CAACO,CAAC,GAAGR,GAAG,CAACQ,CAAC,CAAC,GAAG,CAAC;IAC5CC,CAAC,EAAET,GAAG,CAACS,CAAC,GAAGR,GAAG,CAACQ,CAAC,GAAG,CAAC,GAAG,EAAGR,GAAG,CAACQ,CAAC,GAAGT,GAAG,CAACS,CAAC,CAAC,GAAG,CAAA;GAC5C,CAAA;AAED,EAAA,IAAMC,EAAE,GAAG;AACTF,IAAAA,CAAC,EAAER,GAAG,CAACQ,CAAC,GAAGP,GAAG,CAACO,CAAC,GAAGP,GAAG,CAACO,CAAC,GAAGR,GAAG,CAACQ,CAAC,GAAG,CAAC,GAAG,CAAC;AACxCC,IAAAA,CAAC,EAAET,GAAG,CAACS,CAAC,GAAGR,GAAG,CAACQ,CAAC,GAAGR,GAAG,CAACQ,CAAC,GAAGT,GAAG,CAACS,CAAC,GAAG,CAAC,GAAG,CAAA;GACxC,CAAA;AAED,EAAA,IAAME,EAAE,GAAG;AACTH,IAAAA,CAAC,EAAEI,IAAI,CAACC,GAAG,CAACH,EAAE,CAACF,CAAC,GAAGD,EAAE,CAACC,CAAC,CAAC,GAAG,CAAC;IAC5BC,CAAC,EAAEF,EAAE,CAACE,CAAAA;GACP,CAAA;AAED,EAAA,IAAMK,EAAE,GAAG;AACTN,IAAAA,CAAC,EAAEI,IAAI,CAACC,GAAG,CAACH,EAAE,CAACF,CAAC,GAAGD,EAAE,CAACC,CAAC,CAAC,GAAG,CAAC;IAC5BC,CAAC,EAAEC,EAAE,CAACD,CAAAA;GACP,CAAA;AAED,EAAA,oBACEM,cAAA,CAAA,KAAA,EAAA;AACEC,IAAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAAC,YAAAA,CAAAA,MAAA,CAAeN,IAAI,CAACO,GAAG,CAACnB,GAAG,CAACQ,CAAC,EAAEP,GAAG,CAACO,CAAC,CAAC,EAAAU,MAAAA,CAAAA,CAAAA,MAAA,CAAON,IAAI,CAACO,GAAG,CAACnB,GAAG,CAACS,CAAC,EAAER,GAAG,CAACQ,CAAC,CAAC,EAAK,KAAA,CAAA;AAChFW,MAAAA,KAAK,EAAER,IAAI,CAACC,GAAG,CAACZ,GAAG,CAACO,CAAC,GAACR,GAAG,CAACQ,CAAC,CAAC,GAAC,EAAE;AAC/Ba,MAAAA,MAAM,EAAET,IAAI,CAACC,GAAG,CAACZ,GAAG,CAACQ,CAAC,GAACT,GAAG,CAACS,CAAC,CAAC,GAAC,EAAE;AAChCa,MAAAA,MAAM,EAAEnB,GAAG,GAAG,IAAI,GAAG,CAAC,CAAA;KACtB;IACFoB,SAAS,EAAEC,qBAAG,CAACC,SAAU;AAAAC,IAAAA,QAAA,eAEzBX,cAAA,CAAA,MAAA,EAAA;AACEC,MAAAA,KAAK,EAAE;AACLW,QAAAA,MAAM,EAAA/B,CAAAA,qBAAA,GAAAC,CAAAA,sBAAA,GAAEQ,YAAY,CAACuB,WAAW,MAAA,IAAA,IAAA/B,sBAAA,KAAAC,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,CAAAA,sBAAA,GAAxBD,sBAAA,CAA2BE,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAEA,IAAI,CAAC,cAAAD,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAtCA,sBAAA,CAAwC+B,KAAK,MAAAjC,IAAAA,IAAAA,qBAAA,KAAAA,KAAAA,CAAAA,GAAAA,qBAAA,GAAI,MAAM;QAC/DkC,WAAW,EAAElB,IAAI,CAACmB,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG7B,KAAK,CAAA;OAClC;MACFqB,SAAS,EAAE,CAACC,qBAAG,CAACQ,IAAI,EAAE7B,GAAG,GAAGqB,qBAAG,CAACS,OAAO,GAAG,IAAI,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAE;MAC1EC,CAAC,EAAA,IAAA,CAAAnB,MAAA,CAAOX,EAAE,CAACC,CAAC,EAAA,GAAA,CAAA,CAAAU,MAAA,CAAIX,EAAE,CAACE,CAAC,EAAAS,KAAAA,CAAAA,CAAAA,MAAA,CAAMP,EAAE,CAACH,CAAC,EAAAU,GAAAA,CAAAA,CAAAA,MAAA,CAAIP,EAAE,CAACF,CAAC,QAAAS,MAAA,CAAKJ,EAAE,CAACN,CAAC,OAAAU,MAAA,CAAIJ,EAAE,CAACL,CAAC,EAAA,IAAA,CAAA,CAAAS,MAAA,CAAKR,EAAE,CAACF,CAAC,EAAA,GAAA,CAAA,CAAAU,MAAA,CAAIR,EAAE,CAACD,CAAC,CAAG;AAC3EL,MAAAA,aAAa,EAAEA,aAAAA;AAAc,KAAA,CAAA;GAE3B,CAAA,CAAA;AAEV;;;;"}